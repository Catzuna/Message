const pins = {
  "0629": `Lei 💜,

It's me again and again andd again, ga grad na us hahsha, Congrats leii! I hope this is just the beginning ng lahat ng magagandang bagay sa buhay mo. Keep shining, keep being you, and good luck sa lahat ng next chapters na papasok sa buhay mo!

I’m really proud of you, Lei. Sa lahat ng achievements mo — at sa lahat pa ng mararating mo. Alam kong marami ka pang mapapasaya, maa-inspire, at matutulungan. You have a light that people notice, even when you don’t.

THANK YOU for coming into my life. You are actually making me smile and laugh. Thank you for your understand, thank you for being my biggest supporter and for your efforts, I really appreciate you so much lei.

Good luck sa future mo, Lei.  
Whatever mangyari, kahit saan ka mapadpad, naniniwala akong magiging successful ka. Huwag mong hayaang mawala yung shine mo — you were born to glow, promise.
`,



  "1204": `Aileen 💙,
Haii presss kasalanan to ng recollection antagal nila maga imik tas ang limited ng time pag sulatin hahahsha. Thank you so much for accepting me into Section 4B — I really appreciate your effort kahit late na. Thank you rin, Press, sa mga gala natin lalo na sa nature trips! Sana more pa soon kahit graduating na tayo.

Salamat din sa pakikinig sa mga rants ko at sa pagiging andiyan palagi. Nakaka-senti na, pero I’m glad we got to share those memories before we go.

Pahabol lang sa rant... feel ko wala talaga akong chance kay Lei 😅 but i will always support her silently, maybe im not good enough, kahit ako un umalis, ako pa din ang naiwan HAHAHAHA. anyways OA lng talaga ako.

Let’s keep pushing and reach our dreams. We’re almost there! 🎓`,



  "0522": `Kim 🏀,

Panis sa system, Hahaha sori sori, di na ako nakapagsulat nung recollection dali dali un naga salita tas antagal nmn nya mag salita. anywayss, good luck sa’tin, tenkie sa lahat ng gala at nature trips natin — ang dami nating na-build na memories, solid ‘yon.

Sana maging successful tayo, pero more than that, sana maging masaya tayo sa life after grad. Good luck sa next chapter — gradwaiting na tayo! 🎓💫`,

  "0824": `Hey Boss Robs 🐱,

Huyy hahah sowwy talaga di ako nakapagsulat nung recollection — sobrang limited ng time tapos di rin namin na-gets agad 'yung gagawin 😭 kaya ayun, wala akong naibigay. Pero sabi nga nila bawi nalang sa chat… eh kaso dapat may twist, ‘di pwedeng plain message lang, ‘di ba? 😆

Anyways, super thank you Robss sa bonding. I really appreciate your time, lalo na nung OJT days — ang daming nangyari, pero we kept going and chose to look forward. Sana more happy memories and bonding pa soon… and even in the future. 🙏💛

At teh, sorry to say ha… pero mukhang wala talaga akong chance kay Lei 😅 but i will always support her silently, I think this is not a love story, its a story about love:>

taraaayyyy hahahhsha, Good luck satin and senyo ni JC Robss(Boss), let’s be happy, successful, and at peace. Gradwaiting na tayo, pramis, deserve natin ‘to!🎓💫`,



  "0724": `Jerome 🌟,

HAHAHAHAHA panis sa system, ay wala akong magawa damay na kita pree HAHA jk lang gawa to ng recollection 😆

Goodluck satin pree! Alam kong kaya mong lampasan lahat ng challenges na darating. Sana makahanap ka na ng babaeng desurb ka talaga, ‘yung kaya kang ipaglaban sa simula pa hanggang dulo.

Gradwaiting na tayo, kaya push natin ‘to! Keep your head up, keep pushing forward, at huwag kalimutang mag-enjoy kahit gaano ka-busy. Excited na akong makita kung saan ka dadalhin ng life mo. Kita kits sa tagumpay, pree! 💪✨`,



  "1229": `Lea 💐,

Hi Lea HAHAHAHA! 😹 Thank you so much sa lahat ng memories — lalo na sa mga sawa mong bulaklak! instant provider yern hahahssh 🌼 Seryoso, sobrang na-appreciate ko ‘yon teh. 🌻

Alam mo nung time na gusto ko na talagang lumipat, isa ka sa mga naging dahilan kung bakit ako tumayo sa sarili ko. And now, looking back — di ko ‘yon pinagsisihan. Kasi kasama ka sa mga taong naging parte ng good memories ko sa college. 🫶

Sana makahanap na tayo ng work teh!! HAHAHA more pera para more kain, more gala, more budol, at more Shopee sa future! 💸💸💸

Goodluck sa ating dalawa! I know you’ll shine in your own way. Congrats satin — **GRAD NA USSS!!** 🎓💖 Let's continue to bloom like your bulaklaks! 🌺✨`,




"1109": `Leonel 🏍,


HAHHAHA congrats preee and sana mapatawad mo din ako sa mga pag kukulang ko, gitla ko inabutan mo ako AHHAHAHA, oums ilang na kasi ako kaya sorry di ko kayo pinapansin , pahabol lng talaga to sa recollection ang limited ng time na eon ehh

Di ko man nasabi noon, pero sobrang thankful ako sa inyo. Pasensya na rin kung di na ako masyado nakakatulong — alam mo na OA ako minsan HAHAHA.

Sana maging successful ka pree, lalo na sa future mo with your bebelabs. 😏💖 Deserve niyo ang happiness at tagumpay sa life. Peace ✌️
`,


"0715": `Osep 🐱,


Congratsss preeee! 🎉 Syempre pati na rin kayo ni Andes HAHHAHAHA. Tarayy, power couple vibes fr🔥

pahabol lng talaga to ng recollection — sobrang limited talaga ng oras, parang speed run HAHAHA.

Sorry kung di ko kayo pinapansin na, hiya ang abot ko kasi di na ako natulong senyo ngayon, sana mapatawad mo ems sa pag kukulang ko senyo ni leonel kakskas.

OA lang talaga ako minsan HAHAHA pero I genuinely wish you all the best. Sana maging successful ka sa career mo, sa love life mo, at sa lahat ng plans mo. Gradwaiting na usss! 🎓

No hate, just peace ✌️ chill lngs
`,






  "0310": `Gonzaga 💫,

Apaka tahimik mo pero laki ng naitulong mo sakin, HAHAHA! Salamat talaga sa suporta at sa mga moments na kahit di mo masyadong pinapakita, nandun ka palagi.

Good luck sa future, pre! Sigurado akong malayo ang mararating mo dahil sa determination at puso mo. Keep being that steady force kahit ano pa man ang dumaan. Gradrating na tayo, push na tayo sa mga dreams natin!

Sana tuloy-tuloy ang success at saya sa journey mo. Kita kits!✨`,

  "0504": `Abe 🤸‍♀️,

HAHAHA hoi, congrats sa inyo! Di tayo masyadong close before, pero mas nakilala ko kayo during OJT kasi lagi ko kayo nakikita dun. Kaya mo ‘yan, push mo lang, tapos ready na tayo for the next chapter!

Salamat din sa pakikipaglaro sakin, keyt obob HAHAHA. Gradwaiting na tayo, sobrang bilis ng panahon! Sana maging successful ka sa mga susunod na journey mo, and tiwala lang, magtagumpay ka sa lahat ng plano mo.

Good luck sa future, hope magkita tayo ulit lahat!.🌌✨`,

  "0521": `Tina 🏆,

Haii hahahshahsa congratss Tinaa! Penge muna complement sa system kakska, jk lang! 😂 Anywayss goodluck senyo ni Abe. Though di ko kayo masyadong close dati, mas nakilala ko kayo dahil kay Lei hahahsha. Sana pag work nyo na, ilibre nyo kami ninda press ahhh! Hahaha.

Huwag kalimutan ang sarili ha, alagaan palagi ang health at happiness. Gradwaitng na us, let’s make the future bright and full of good vibes! Keep being awesome!🥇💁‍♀️ `,



  "0615": `Bea 🐣,

Haiii Bea, my old and forever cool press! Di ko talaga kayo malilimutan. I truly enjoyed all the moments with you guys, and I’m super thankful we still had time to bond this last year. 🐱

Sorry if I was a bit OA with my mental health back in 1st and 2nd year, and sorry din kung bigla akong lumipat, ang dami kong pagkukulang sa inyo hahahha. But despite all that, thank you for still being there. 🐣

I really hope everything works out between you and your boy, deserve mo mahalin ng totoo at buo. Always keep yourself proud, keep slaying, and stay the strong Bea that everyone loves. 💅

Let’s bond again soon, promise! At syempre, di ko malilimutan ang burger mo huhu!🍔 Gradwaiting na tayo, we made it!! More love, more success, more peace of mind ahead. 💖.

Your journey is unfolding beautifully. Keep showing up for yourself — the rest will follow.`,



  "0826": `Ally 🐣,

 Just wanted to say a big **thank you** for being part of this journey. You've made it through all the challenges, the late nights, the stress, and the deadlines. You deserve all the success and happiness that comes your way. 🐱

HAHAHA try lng ally ikaw una maga try pambawi ko kasi sa recollection di ko sila nabigyan ng sulat.

anywaysss..  I'm really proud of you. You’ve worked so hard, and you deserve every bit of happiness and success coming your way. Enjoy this moment, celebrate it fully, and always remember you did it!🎓💐 `,



  "1110": `Janine 🎓✨,

Oiiii Janineee, we made ittt! 🎓 No more rants na sa pagiging gradwaiting natin haha. 😭
Super thankiee sa'yo for all the bonding and jamming sessions — sobrang na-appreciate ko ‘yon. 💖

Sana maging masaya kayo ni Jannuz always, at maging successful kayong dalawa someday. Dsurb nyo isat-isa! sana all talaga noh? 😆

Gradwaiting na uss 🎉✨ Let’s keep pushing and chasing our dreams. I hope your health gets better soon — please alagaan mo rin sarili mo, okay? 🙏

Thankiee for everything, Janine. Peace and love always! 🐱✌️`,

  "0526": `Aybe 🐱,

Hoi, congrats satin HAHAHA gradwaiting na talaga us! 🎓
Goodluck sa future mo, and I hope ma-achieve mo lahat ng goals mo. Alam kong kaya mo yan. 💪

Tenkiee rin and sorry sa mga panahon na ang OA ko at sa mga mali akong nagawa. somehow naa apreciate ko pa rin kayo at pinapansin nyo pa rin ako hahsha

Mamimiss ko rin yung Discord days, grabe 'no? Akala ko pa nga noon lalaki ka HAHAHA.
Soju mo, wag mong kalimutan ha! HAHAHA 
Sana soonn makabond ko pa ulit kayo ni Biya. huhuhu hiram nmn manalo talo nanaman HAAHSHHAHSHAHAHSA😭

Ingat palagi, and stay being you. Chill lang, pero always moving forward.
Congrats ulit Aybe, kita kits soon! 🎓`
};




const messages = [
  "Generating sparkles... ✨🌟💫",
  "Warming the universe... 🔥☀️🌞", 
  "Calling angels... 👼😇✨",
  "Filling your letter... 📝💌✉️",
  "Sending vibes... 🌈🎶💖",
  "Almost ready... ⏳⌛🚀",
  "Charging magic... 🔮✨",
  "Summoning cats... 🐱💫😻",
  "Brewing smiles... 😊☕🌸"
];



let input = "";

// Optional: Click sound
const clickSound = new Audio('COMCell_Iphone touch sound 2 (ID 2038)_BSB.mp3');

function press(num) {
  if (input.length < 4) {
    clickSound.play().catch(() => {});
    input += num;
    updateDots();
    if (input.length === 4) validatePIN();
  }
}

function del() {
  input = input.slice(0, -1);
  updateDots();
  document.getElementById("retry-msg").textContent = "";
}

function updateDots() {
  const dots = document.querySelectorAll("#pin-dots span");
  dots.forEach((dot, idx) => {
    dot.classList.toggle("active", idx < input.length);
  });
}


function validatePIN() {
  if (pins.hasOwnProperty(input)) {
    showLoadingScreen(input);
  } else {
    showRetry();
  }
}


function showRetry() {
  const retry = document.getElementById("retry-msg");
  retry.textContent = "Incorrect Meowcode! Retry.";
  shake(document.querySelector(".lock-container"));
  input = "";
  updateDots();
  setTimeout(() => (retry.textContent = ""), 2500);
}

function shake(element) {
  element.style.animation = "shake 0.5s";
  element.addEventListener("animationend", () => {
    element.style.animation = "";
  }, { once: true }); // Ensures the event listener is removed after one execution
}


// Loading screen logic
function showLoadingScreen(pin) {
  document.getElementById("pin-screen").classList.add("hidden");
  document.getElementById("loading-screen").classList.remove("hidden");

  let percent = 0;
  const loadingText = document.getElementById("loading-text");
  const percentDisplay = document.getElementById("percent");

  const interval = setInterval(() => {
    percent += Math.floor(Math.random() * 5) + 1;
    if (percent > 100) percent = 100;
    percentDisplay.textContent = percent + "%";

    const idx = Math.floor(percent / (100 / messages.length));
    loadingText.textContent = messages[Math.min(idx, messages.length - 1)];

    if (percent === 100) {
      clearInterval(interval);
      playBackgroundMusic();
      fireworksEffect();
      setTimeout(() => {
        showMessageScreen(pin);
      }, 2500);
    }
  }, 120);
}


function playBackgroundMusic() {
  const music = document.getElementById("bg-music");
  music.volume = 0.60;
  music.play().catch(() => {
    // fallback or ignore if autoplay prevented
  });
}


function fireworksEffect() {
  const loader = document.querySelector(".loader-circle");
  const fireworks = [];

  for (let i = 0; i < 15; i++) {
    const emoji = document.createElement("div");
    emoji.textContent = i % 2 === 0 ? "✨" : "🤍";
    emoji.classList.add("firework-emoji");
    emoji.style.position = "absolute";
    emoji.style.fontSize = "24px";
    emoji.style.opacity = 0.8;
    emoji.style.left = "50%";
    emoji.style.top = "50%";
    emoji.style.transform = "translate(-50%, -50%)";
    loader.appendChild(emoji);

    const angle = (360 / 15) * i;
    const radius = 100 + Math.random() * 50; // random radius for variety

    fireworks.push({
      elem: emoji,
      angle,
      radius,
      progress: 0,
    });
  }

  let startTime = null;

  function animate(timestamp) {
    if (!startTime) startTime = timestamp;
    const elapsed = timestamp - startTime;

    fireworks.forEach((fw) => {
      // Progress goes from 0 to 1 in 1500 ms
      fw.progress = Math.min(elapsed / 1500, 1);

      // Calculate position in circle expanding outwards
      const rad = (fw.angle * Math.PI) / 180;
      const dist = fw.radius * fw.progress;

      // Calculate x,y positions from center (50%, 50%)
      const x = 50 + dist * Math.cos(rad);
      const y = 50 + dist * Math.sin(rad);

      fw.elem.style.left = `${x}%`;
      fw.elem.style.top = `${y}%`;
      fw.elem.style.opacity = 1 - fw.progress;
      fw.elem.style.fontSize = `${24 + 10 * fw.progress}px`;
    });

    if (elapsed < 1500) {
      requestAnimationFrame(animate);
    } else {
      // Cleanup fireworks after animation
      fireworks.forEach((fw) => fw.elem.remove());
    }
  }

  requestAnimationFrame(animate);
}


// Show message with glowing effect
function showMessageScreen(pin) {
  document.getElementById("loading-screen").classList.add("hidden");
  const messageScreen = document.getElementById("message-screen");
  const messageText = document.getElementById("message-text");
  const secretBtn = document.getElementById("secret-btn");

  messageScreen.classList.remove("hidden");
  messageText.innerHTML = "";
  secretBtn.classList.add("hidden");

  const words = pins[pin].split(" ");
  words.forEach((word, index) => {
    const span = document.createElement("span");
    span.textContent = word + " ";
    span.style.opacity = "0.2";
    span.style.transition = "all 0.5s ease";
    span.classList.add("glow-word");
    messageText.appendChild(span);

    setTimeout(() => {
      span.style.opacity = "1";
      span.style.textShadow = "0 0 10px white, 0 0 20px #f6d5f7";
    }, index * 250);
  });

  if (pin === "0629") {
    // Show the button after animation completes
    setTimeout(() => {
      secretBtn.classList.remove("hidden");
      secretBtn.classList.add("glow-button");
    }, words.length * 250 + 500); // +500ms buffer
  }

  // On click secret button
  secretBtn.onclick = () => {
  const photograph = document.getElementById("bg-music");
  const someday = document.getElementById("music-someday");

  // Smoothly fade out Photograph
  let fadeOut = setInterval(() => {
    if (photograph.volume > 0.05) {
      photograph.volume -= 0.05;
    } else {
      clearInterval(fadeOut);
      photograph.pause();
      photograph.volume = 0.5; // Reset for future use

      // Play Someday at 3:17
      someday.currentTime = 197;
      someday.volume = 0;
      someday.play();

      // Fade in Someday
      let fadeIn = setInterval(() => {
        if (someday.volume < 0.5) {
          someday.volume += 0.05;
        } else {
          clearInterval(fadeIn);
        }
      }, 200);
    }
  }, 200);

  messageText.innerHTML = "";

    const secret = `Lei 💌,

You unlocked the secret part.

Maybe this message is just another silly piece of code to you, but for me it's the part I never got to say out loud.

anyways... 

Some people build walls to protect themselves from getting hurt. It’s a predetermined act of not letting yourself experience the same wound, pain, and agony that once broke you.

It's like holding a candle, afraid to let its flame go out — protecting it from the whirl of winds that try to snuff it out. This becomes instinct, instilled in the heart, wrapped tightly in the boundaries we’ve built over years — shaped by wounds we were left to face alone.

However, there are rare moments when someone doesn’t just help you protect that fire — they become part of it. They stay. And without even realizing it, your once-solid walls begin to melt in their warmth. Their light flickers gently, resonating with something deep inside you.

And in that very moment, I found myself wishing…

Your fire doesn’t scare me.

Instead, like a moth to a flame, it draws me in. That gleaming light — threatening to burst, glowing in hues that slip through the cracks of your carefully guarded facade — it doesn’t make me flinch. I’m not afraid to get burned, because even in the ashes, I know I’ll find the ember of something real.
Something that is you.
Something that wants — and deserves — to be seen.

I want to embrace you on the times that u think youre too fiery to touch.

You are never hard to love, and your fire wouldnt make love you any less.

Whatever the world says, know this — I’m thankful for every single moment you allowed me to be part of your life.

No matter how far life takes us… a part of me will always be cheering for you. Always.`;

    const secretWords = secret.split(" ");
    secretWords.forEach((word, index) => {
      const span = document.createElement("span");
      span.textContent = word + " ";
      span.style.opacity = "0.2";
      span.style.transition = "all 0.5s ease";
      span.classList.add("glow-word");
      messageText.appendChild(span);

      setTimeout(() => {
        span.style.opacity = "1";
        span.style.textShadow = "0 0 10px #fff, 0 0 20px #f6d5f7";
      }, index * 250);
    });

    secretBtn.classList.add("hidden");
  };
}



function resetPINScreen() {
  input = "";
  updateDots();
  document.getElementById("message-screen").classList.add("hidden");
  document.getElementById("pin-screen").classList.remove("hidden");
  document.getElementById("message-text").textContent = "";
  const music = document.getElementById("bg-music");
  music.pause();
  music.currentTime = 0;
}

// Floating emoji logic
const floatingEmojis = ["🐱", "🌟", "🚀", "🤍", "🪐", "😺", "✨", "🌙", "🍁", "🍂", "☄️","⭐️", "💜", "🖤", "❄️", "🌹", "🍀"];

function createFloatingEmoji() {
  const emoji = document.createElement("div");
  emoji.textContent = floatingEmojis[Math.floor(Math.random() * floatingEmojis.length)];
  emoji.style.position = "fixed";
  emoji.style.fontSize = `${10 + Math.random() * 20}px`;
  emoji.style.opacity = 0.7 + Math.random() * 0.3;
  emoji.style.left = `${Math.random() * 100}vw`;
  emoji.style.top = `${Math.random() * 100}vh`;
  emoji.style.pointerEvents = "none";
  emoji.style.userSelect = "none";
  emoji.style.zIndex = "5";
  emoji.style.transition = "transform 10s linear, opacity 10s linear";
  document.body.appendChild(emoji);

  setTimeout(() => {
    emoji.style.transform = `translateY(-100vh) translateX(${(Math.random() - 0.5) * 50}vw)`;
    emoji.style.opacity = "0";
  }, 50);

  setTimeout(() => emoji.remove(), 10500);
}

setInterval(createFloatingEmoji, 800);
for (let i = 0; i < 10; i++) createFloatingEmoji();

// Glow animation CSS
const style = document.createElement("style");
style.textContent = `
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-10px); }
  40%, 80% { transform: translateX(10px); }
}
.glow-word {
  display: inline-block;
  margin: 0 2px;
  transition: all 3.5s ease-in-out;
}
`;
document.head.appendChild(style);

const emojis = ["😺", "🐱", "💖", "✨", "🌟", "😻", "🎉", "🔥", "🌈", "💫"];
document.addEventListener('touchstart', function (e) {
  summonRandomEmoji(e.touches[0].clientX, e.touches[0].clientY);
});

function summonRandomEmoji(x, y) {
  const emojiContainer = document.getElementById('emoji-container');
  const emoji = document.createElement('div');
  
  // Pick random emoji
  const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
  emoji.textContent = randomEmoji;

  // Style the emoji
  Object.assign(emoji.style, {
    position: 'absolute',
    left: `${x}px`,
    top: `${y}px`,
    fontSize: '30px',
    userSelect: 'none',
    pointerEvents: 'none',
    opacity: '1',
    transition: 'transform 1s ease-out, opacity 1s ease-out',
    transform: 'translateY(0)',
  });

  emojiContainer.appendChild(emoji);

  // Animate: float up and fade out
  requestAnimationFrame(() => {
    emoji.style.transform = 'translateY(-50px)';
    emoji.style.opacity = '0';
  });

  // Remove emoji after animation
  setTimeout(() => {
    emoji.remove();
  }, 1000);
}
